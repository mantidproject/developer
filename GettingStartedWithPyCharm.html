<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Getting Started with PyCharm</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Eclipse on Ubuntu" href="Eclipse.html" />
    <link rel="prev" title="Visual Studio Build Impact" href="VisualStudioBuildImpact.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>master</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="index.html">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org">Wiki</a></li>
                <li><a href="http://docs.mantidproject.org">User Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="getting-started-with-pycharm">
<span id="gettingstartedwithpycharm"></span><h1>Getting Started with PyCharm<a class="headerlink" href="#getting-started-with-pycharm" title="Permalink to this headline">¶</a></h1>
<p>PyCharm can be installed from <a class="reference external" href="https://jetbrains.com/pycharm/download/">here</a>.</p>
<p>This tutorial assumes you are familiar with the process of building Mantid (with separate source and build directories inside a root directory), and that you have built a working version. If you are unclear about this see <a class="reference external" href="GettingStarted.html">here</a></p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#setting-up-pycharm-on-windows" id="id1">Setting up PyCharm on Windows</a><ul>
<li><a class="reference internal" href="#running-files-in-the-debugger" id="id2">Running Files in the Debugger</a></li>
<li><a class="reference internal" href="#testing-using-pyqt" id="id3">Testing using PyQt</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setting-up-pycharm-on-linux" id="id4">Setting up PyCharm on Linux</a></li>
<li><a class="reference internal" href="#useful-plugins" id="id5">Useful Plugins</a></li>
</ul>
</div>
<div class="section" id="setting-up-pycharm-on-windows">
<h2><a class="toc-backref" href="#id1">Setting up PyCharm on Windows</a><a class="headerlink" href="#setting-up-pycharm-on-windows" title="Permalink to this headline">¶</a></h2>
<p>PyCharm should be opened using <code class="docutils literal notranslate"><span class="pre">pycharm.bat</span></code> which can be found in the build directory (this sets some additional environment variables compared with simply opening PyCharm directly).</p>
<ol class="arabic">
<li><p class="first">Once PyCharm is open, set up the project. Go to <code class="docutils literal notranslate"><span class="pre">File-&gt;Open</span></code> and select the root directory in which both your source and build directories reside.</p>
<p>Go to <code class="docutils literal notranslate"><span class="pre">File-&gt;Settings</span></code>, then under <code class="docutils literal notranslate"><span class="pre">Project</span></code> you will set two sub-menus <code class="docutils literal notranslate"><span class="pre">Project</span> <span class="pre">Interpreter</span></code> and <code class="docutils literal notranslate"><span class="pre">Project</span> <span class="pre">Structure</span></code>. The interpreter defines the python executable that will be used to run your code, and the structure menu allows you to decide which folders within the project to include and index.</p>
</li>
<li><p class="first">In the <code class="docutils literal notranslate"><span class="pre">Project</span> <span class="pre">Interpreter</span></code> sub menu, at the top select the options button and click <code class="docutils literal notranslate"><span class="pre">Add...</span></code>, a new window should appear titled “Add Python Interpreter”. In the menu on the left, select “System Interpreter” (a version of Python with all the correct variables set already exists within Mantid). Click on the <code class="docutils literal notranslate"><span class="pre">...</span></code> to open a file browser, and navigate to;</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre>&lt;Mantid Source Directory&gt;/external/src/ThirdParty/lib/python2.7/python.exe
</pre></div>
</div>
<p>This is the interpreter, so select “Ok” and apply the changes. This should bring up a list of all the packages associated to the interpreter. There should be many packages, however you should not see PyQt (but instead QtPy).</p>
</li>
<li><p class="first">In the <code class="docutils literal notranslate"><span class="pre">Project</span> <span class="pre">Structure</span></code> sub menu you should see your root directory with the source/build directories both visible (if not, add them). The folder structure should be present in the centre of the window allowing you to mark folders orange (excluded) or blue (source). Source directories will be searched for python code.</p>
<p>Within the source directory add the following to your sources;</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre>&lt;Mantid Source Directory&gt;/scripts
&lt;Mantid Source Directory&gt;/external/src/ThirdParty/lib
</pre></div>
</div>
<p>The first folder can be replaced with the folder that contains your code, if you aren’t writing code in <code class="docutils literal notranslate"><span class="pre">scripts/</span></code>. In the Mantid build directory add the following as source folders;</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre>&lt;Mantid Build Directory&gt;/bin/Debug
</pre></div>
</div>
<p>here we are setting up PyCharm for the Debug build, you would use <code class="docutils literal notranslate"><span class="pre">/bin/Release</span></code> instead if you are building mantid in release mode.</p>
</li>
</ol>
<p>NOTE : In some cases, imports in the code will still be highlighted red when they come from folders within the <code class="docutils literal notranslate"><span class="pre">script/</span></code> folder, or from other folders entirely. To fix this simply add the relevant folder that contains the module you are importing in the same fashion as step 3 above.</p>
<div class="section" id="running-files-in-the-debugger">
<h3><a class="toc-backref" href="#id2">Running Files in the Debugger</a><a class="headerlink" href="#running-files-in-the-debugger" title="Permalink to this headline">¶</a></h3>
<p>Running python code from within PyCharm which depends on the python API, or PyQt for example requires one extra step. Because the source root labelling from the previous section only affects PyCharm searching and not the run configuration, before running the file we must set up the run configuration correctly.</p>
<p>As an example, create a new file in <code class="docutils literal notranslate"><span class="pre">&lt;Mantid</span> <span class="pre">Source</span> <span class="pre">Directory&gt;/scripts/</span></code> called <code class="docutils literal notranslate"><span class="pre">test.py</span></code>. Copy into it the Python code below.</p>
<ol class="arabic" start="4">
<li><p class="first">To edit the configurations go to <code class="docutils literal notranslate"><span class="pre">Run-&gt;Run...</span></code> and select <code class="docutils literal notranslate"><span class="pre">Edit</span> <span class="pre">Configurations</span></code>. This should open up a sub window. Hit the green <code class="docutils literal notranslate"><span class="pre">+</span></code> in the top left to create a new configuration and name it. In order to tell PyCharm where to look for python modules and libraries we need to add some folders to the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable. Click on the <code class="docutils literal notranslate"><span class="pre">...</span></code> next to the <em>Environment Variables</em> box, and hit the <code class="docutils literal notranslate"><span class="pre">+</span></code> icon. In the Name column enter “PATH”, in the value column enter the following;</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre>&lt;Mantid Build Directory&gt;<span class="se">\b</span>in<span class="se">\D</span>ebug<span class="p">;</span>
&lt;Mantid Source Directory&gt;<span class="se">\e</span>xternal<span class="se">\s</span>rc<span class="se">\T</span>hirdParty<span class="se">\b</span>in<span class="p">;</span>
&lt;Mantid Source Directory&gt;<span class="se">\e</span>xternal<span class="se">\s</span>rc<span class="se">\T</span>hirdParty<span class="se">\l</span>ib<span class="se">\q</span>t4<span class="se">\b</span>in<span class="p">;</span>
&lt;Mantid Source Directory&gt;<span class="se">\e</span>xternal<span class="se">\s</span>rc<span class="se">\T</span>hirdParty<span class="se">\l</span>ib<span class="se">\q</span>t5<span class="se">\b</span>in<span class="p">;</span>
%PATH%
</pre></div>
</div>
<p>The semi-colon delimited list of paths should end in <code class="docutils literal notranslate"><span class="pre">;%PATH%</span></code> so that we prepend to the existing list of paths rather than overwriting them. The last two lines will allow imports of PyQt4 and PyQt5 modules.</p>
</li>
</ol>
<p>You should now be able to run and debug the scripts using the newly created configuration, by adding the full path of the file in the <code class="docutils literal notranslate"><span class="pre">Script</span> <span class="pre">path</span></code> box at the top of the configuration window.</p>
</div>
<div class="section" id="testing-using-pyqt">
<h3><a class="toc-backref" href="#id3">Testing using PyQt</a><a class="headerlink" href="#testing-using-pyqt" title="Permalink to this headline">¶</a></h3>
<p>To test that the above instructions have worked, you can simply create a new Python file with the following content (for PyQt5)</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span class="c1"># Check that PyQt imports</span>
<span class="kn">from</span> <span class="nn">qtpy</span> <span class="k">import</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtWidgets</span>
<span class="c1"># Check that the Mantid python API imports</span>
<span class="kn">import</span> <span class="nn">mantid.simpleapi</span>

<span class="k">class</span> <span class="nc">DummyView</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QWidget</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">DummyView</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGridLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">btn</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">sys</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
    <span class="n">ui</span> <span class="o">=</span> <span class="n">DummyView</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
    <span class="n">ui</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="setting-up-pycharm-on-linux">
<h2><a class="toc-backref" href="#id4">Setting up PyCharm on Linux</a><a class="headerlink" href="#setting-up-pycharm-on-linux" title="Permalink to this headline">¶</a></h2>
<p>On Linux the instructions are identical to Windows except that :</p>
<ul class="simple">
<li>In step 1, the file is <code class="docutils literal notranslate"><span class="pre">pycharm.sh</span></code> rather than <code class="docutils literal notranslate"><span class="pre">pycharm.bat</span></code></li>
<li>In step 2, use the native python interpreter (<code class="docutils literal notranslate"><span class="pre">/usr/bin/python2.7/python.exe</span></code>) rather than from <code class="docutils literal notranslate"><span class="pre">&lt;Mantid</span> <span class="pre">Source</span> <span class="pre">Directory&gt;/external/src/ThirdParty/lib/python2.7/python.exe</span></code></li>
<li>In step 4, add <code class="docutils literal notranslate"><span class="pre">&lt;Mantid</span> <span class="pre">Build</span> <span class="pre">Directory&gt;/bin;</span></code> to the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable in the new configuration (rather than <code class="docutils literal notranslate"><span class="pre">&lt;Mantid</span> <span class="pre">Build</span> <span class="pre">Directory&gt;/bin/Debug;</span></code>), and remove the other three file paths.</li>
</ul>
</div>
<div class="section" id="useful-plugins">
<h2><a class="toc-backref" href="#id5">Useful Plugins</a><a class="headerlink" href="#useful-plugins" title="Permalink to this headline">¶</a></h2>
<p>You can install non-default plugins by pressing <code class="docutils literal notranslate"><span class="pre">Ctrl+Alt+S</span></code> to open the <strong>Settings/Preferences</strong> dialog and then going to <strong>Plugins</strong>.
From here you can manage plugins, or add new ones by clicking <strong>Browse repositories</strong>.</p>
<p>The following non-default plugins are things our team has found useful for Mantid development:</p>
<ul class="simple">
<li><strong>Markdown support</strong> - Side by side rendering of markdown documents such as``.md`` , <code class="docutils literal notranslate"><span class="pre">.rst</span></code> (requires <a class="reference external" href="https://graphviz.gitlab.io/download/">Graphviz</a> to show graphs in preview)</li>
<li><strong>dotplugin</strong> -  Syntax highlighting for <code class="docutils literal notranslate"><span class="pre">DOT</span></code></li>
<li><strong>BashSupport</strong> - Syntax highlighting for <code class="docutils literal notranslate"><span class="pre">BASH</span></code> scripts</li>
<li><strong>CMD Support</strong> - Syntax highlighting for <code class="docutils literal notranslate"><span class="pre">.BAT</span></code> ~scripts</li>
</ul>
<p>Please add to this list if you find a useful plugin of your own</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="VisualStudioBuildImpact.html" title="Previous Chapter: Visual Studio Build Impact"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Visual Studio...</span>
    </a>
  </li>
  <li>
    <a href="Eclipse.html" title="Next Chapter: Eclipse on Ubuntu"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Eclipse on Ub... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>