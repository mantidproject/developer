<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>The Automated Build Process</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Jenkins Configuration" href="JenkinsConfiguration.html" />
    <link rel="prev" title="Mantid Git Workflow" href="GitWorkflow.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>master</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="index.html">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org">Wiki</a></li>
                <li><a href="http://docs.mantidproject.org">User Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="the-automated-build-process">
<h1>The Automated Build Process<a class="headerlink" href="#the-automated-build-process" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id2">Summary</a></li>
<li><a class="reference internal" href="#the-details" id="id3">The Details</a></li>
<li><a class="reference internal" href="#other-notes" id="id4">Other Notes</a></li>
<li><a class="reference internal" href="#master-pipeline" id="id5">Master Pipeline</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id2">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>If your changes break the master builds in any way, on any platform,
then it is your responsibility to fix the error immediately!</p>
</div>
<div class="section" id="the-details">
<h2><a class="toc-backref" href="#id3">The Details</a><a class="headerlink" href="#the-details" title="Permalink to this headline">¶</a></h2>
<p>You should follow the <a class="reference internal" href="GitWorkflow.html#gitworkflow"><span class="std std-ref">Mantid Git Workflow</span></a>. When you open a
pull request (or commit to an already open pull request) the automated
build process will start. There will be a different build for each
platform/job. A status will appear for each job in the pull request.</p>
<p>The status for each build will be either pending, success or failed.</p>
<img alt="_images/BuildStatuses.png" src="_images/BuildStatuses.png" />
<p>To see the details of a particular build in Jenkins click on Details
next to the status. To restart a build, if it failed with a spurious
error not related to your code changes, then you can restart that
particular build by selecting Rebuild in Jenkins. Then press rebuild
again on the next screen while not changing any of the parameters. If
you don’t have permission to restart builds in Jenkins you will have
to ask someone who does.</p>
<img alt="_images/RestartBuild.png" src="_images/RestartBuild.png" />
</div>
<div class="section" id="other-notes">
<h2><a class="toc-backref" href="#id4">Other Notes</a><a class="headerlink" href="#other-notes" title="Permalink to this headline">¶</a></h2>
<p>The build will fail if it cannot be cleanly merged with master.</p>
<p>Leeroy will check every 10 minutes for any missed builds, should the
GitHub hooks fail to activate or the build server was down when the
pull request was opened.</p>
<p>The pull request builder we are using is called <a class="reference external" href="https://github.com/mantidproject/leeroy">Leeroy</a>.</p>
<p>You can find a list of all the pull request Jenkins jobs at <a class="reference external" href="http://builds.mantidproject.org/view/Pull%20Requests/">here</a>.</p>
</div>
<div class="section" id="master-pipeline">
<h2><a class="toc-backref" href="#id5">Master Pipeline</a><a class="headerlink" href="#master-pipeline" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="http://builds.mantidproject.org/view/Master%20Pipeline/">master pipeline</a>
is a series of jobs that periodically run against code on the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch.
Their purpose is to provide reasonable assurance that the code currently in
<code class="docutils literal notranslate"><span class="pre">master</span></code> is usable in its current state.</p>
<p>The main tasks carried out by the pipeline are, for each supported platform:</p>
<ul class="simple">
<li>Build Mantid and installers (<code class="docutils literal notranslate"><span class="pre">master_clean-PLATFORM</span></code>)</li>
<li>Run automated testing (<code class="docutils literal notranslate"><span class="pre">master_clean-PLATFORM</span></code>,
<code class="docutils literal notranslate"><span class="pre">master_systemtests-PLATFORM</span></code>, <code class="docutils literal notranslate"><span class="pre">master_doctests</span></code>)</li>
<li>Deploy installers to nightly download locations (<code class="docutils literal notranslate"><span class="pre">master_deploy</span></code>)</li>
</ul>
<p>The pipeline view in Jenkins shows the order of dependency between these jobs.</p>
<p>The most upstream jobs (i.e. <code class="docutils literal notranslate"><span class="pre">master_clean-PLATFORM</span></code>) are triggered to start
at midnight UTC assuming there were changes pushed to the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch
since the last time they ran.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="GitWorkflow.html" title="Previous Chapter: Mantid Git Workflow"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Mantid Git Wo...</span>
    </a>
  </li>
  <li>
    <a href="JenkinsConfiguration.html" title="Next Chapter: Jenkins Configuration"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Jenkins Confi... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>