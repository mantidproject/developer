<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Getting Started without Conda</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Packaging" href="../Packaging.html" />
    <link rel="prev" title="Develop with Conda on MacOS" href="GettingStartedCondaOSX.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>master</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="../index.html">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">User Documentation</a></li>
                <li><a href="http://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
<div class="related" role="navigation" aria-label="related navigation">
  <h3>Navigation</h3>
  <ul>
    <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
    
    <li class="nav-item nav-item-1"><a href="GettingStarted.html" accesskey="U">Getting Started</a> &#187;</li>
    
    
    
    
    <li class="nav-item nav-item-this"><a href="">Getting Started without Conda</a></li>
    
    
  </ul>
</div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="getting-started-without-conda">
<span id="gettingstartednoneconda"></span><h1>Getting Started without Conda<a class="headerlink" href="#getting-started-without-conda" title="Permalink to this heading">¶</a></h1>
<section id="environment">
<h2>Environment<a class="headerlink" href="#environment" title="Permalink to this heading">¶</a></h2>
<p>Some initial setup is required before being able to build the code. This is platform
specific and described here.</p>
<section id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Permalink to this heading">¶</a></h3>
<p>Install the following:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://visualstudio.microsoft.com/downloads/">Visual Studio 2019 Community Edition</a>.</p>
<ul>
<li><p>When asked about installation workloads choose <code class="docutils literal notranslate"><span class="pre">Desktop</span> <span class="pre">development</span> <span class="pre">with</span> <span class="pre">C++</span></code></p></li>
<li><p>Under the “Installation details” section verify that the following are checked:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Windows</span> <span class="pre">Universal</span> <span class="pre">CRT</span> <span class="pre">SDK</span></code></p></li>
<li><p>The latest Windows 10 SDK</p></li>
</ul>
</li>
<li><p>If your machine has less than 32GB of memory Mantid may not build. If you have problems change the maximum number of parallel project builds to 1 in Visual Studio in Tools -&gt; Options -&gt; Projects and Solutions -&gt; Build And Run.</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://git-scm.com/">Git</a>.</p>
<ul>
<li><p>install the latest version and ensure that Git LFS is checked to be included</p></li>
<li><p>when the install has completed create a directory for storage of the LFS objects, e.g. <code class="docutils literal notranslate"><span class="pre">C:\GitLFSStorage</span></code></p></li>
<li><p>open up Git Bash and run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">lfs.storage</span> <span class="pre">C:/GitLFSStorage</span></code></p></li>
<li><p>run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">lfs</span> <span class="pre">install</span></code> to initialize Git LFS. (Note that if you miss this step you may get errors due to the third party libraries not checking out properly. This can be fixed later by running <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">lfs</span> <span class="pre">fetch</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">lfs</span> <span class="pre">checkout</span></code> in the <code class="docutils literal notranslate"><span class="pre">external\src\ThirdParty</span></code> directory.)</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://cmake.org/download/">CMake</a> &gt;= 3.15</p></li>
<li><p><a class="reference external" href="https://miktex.org/download">MiKTeX</a>. Installation instructions are  <a class="reference external" href="https://miktex.org/howto/install-miktex">available here</a>. Once installed:</p>
<ul>
<li><p>open the MikTeX console from the start menu</p></li>
<li><p>switch to administrator mode</p></li>
<li><p>settings -&gt; select “Always install missing packages on-the-fly”</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://nsis.sourceforge.net/Download">NSIS</a> (optional). Used for building packages</p></li>
</ul>
<p><a class="reference external" href="http://graphviz.org/download/">Graphviz</a> is required to generate the workflow diagrams in the documentation.
Unfortunately CMake can’t find it out of the box and the following steps are required to make this link</p>
<ul class="simple">
<li><p>open regedit</p></li>
<li><p>add a new key <code class="docutils literal notranslate"><span class="pre">[HKEY_LOCAL_MACHINE\\SOFTWARE\\ATT\\Graphviz]</span></code></p></li>
<li><p>create a new string value named <code class="docutils literal notranslate"><span class="pre">InstallPath</span></code> within this key and set the value
to point to the install directory of Graphviz.</p></li>
</ul>
<section id="windows-subsystem-for-linux-wsl2">
<h4>Windows Subsystem for Linux (WSL2)<a class="headerlink" href="#windows-subsystem-for-linux-wsl2" title="Permalink to this heading">¶</a></h4>
<p>It is also possible to install a Linux subsystem within Windows by following <a class="reference internal" href="../WindowsSubsystemForLinux.html#windowssubsystemforlinux"><span class="std std-ref">these</span></a> instructions. This step is optional.</p>
</section>
</section>
<section id="linux">
<h3>Linux<a class="headerlink" href="#linux" title="Permalink to this heading">¶</a></h3>
<section id="red-hat-cent-os-fedora">
<h4>Red Hat/Cent OS/Fedora<a class="headerlink" href="#red-hat-cent-os-fedora" title="Permalink to this heading">¶</a></h4>
<ul class="simple">
<li><p>Follow the <a class="reference external" href="https://fedoraproject.org/wiki/EPEL">instructions here</a> to enable the EPEL repository
for RHEL7</p></li>
<li><p>Run the following to install the mantid-developer package</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install copr plugin</span>
yum<span class="w"> </span>install<span class="w"> </span>yum-plugin-copr

<span class="c1"># Enable the mantid repo from copr</span>
yum<span class="w"> </span>copr<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>mantid/mantid

<span class="c1"># Install dependencies</span>
yum<span class="w"> </span>install<span class="w"> </span>mantid-developer

<span class="c1"># Install pre-commit</span>
pip3<span class="w"> </span>install<span class="w"> </span>pre-commit<span class="w"> </span>--user
</pre></div>
</div>
<p>On fedora, the <code class="docutils literal notranslate"><span class="pre">yum</span></code> commands should be replaced with <code class="docutils literal notranslate"><span class="pre">dnf</span></code>.
For systems with default python3 the <code class="docutils literal notranslate"><span class="pre">pip3</span></code> command can be replaced with <code class="docutils literal notranslate"><span class="pre">pip</span></code>, but it should work either way.</p>
<p>Make sure you install <a class="reference external" href="https://developer.mantidproject.org/BuildingWithCMake.html#from-the-command-line">devtoolset-7</a> as described in the link.</p>
<p>Now you can <a class="reference external" href="https://developer.mantidproject.org/GettingStarted.html#getting-the-mantid-code">get the mantid code</a>, and build it:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>build
<span class="nb">cd</span><span class="w"> </span>build
scl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>devtoolset-7<span class="w"> </span><span class="s2">&quot;cmake3 [mantid source]&quot;</span>
cmake3<span class="w"> </span>--build<span class="w"> </span>.
</pre></div>
</div>
<p>See the instructions on <a class="reference internal" href="../RunningTheUnitTests.html#runningtheunittests"><span class="std std-ref">this</span></a> page to run the Mantid unit tests.</p>
</section>
<section id="ubuntu-18-04">
<h4>Ubuntu 18.04<a class="headerlink" href="#ubuntu-18-04" title="Permalink to this heading">¶</a></h4>
<ul class="simple">
<li><p>Setup the Kitware APT repository to get a recent version of CMake by
following <a class="reference external" href="https://apt.kitware.com/">these instructions</a></p></li>
<li><p>Follow the <a class="reference external" href="http://download.mantidproject.org/ubuntu.html">Ubuntu instructions</a>
to add the stable release repository and mantid ppa and</p></li>
<li><p>Download the latest
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/developer">mantid-developer</a>
package and install it:</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>apt<span class="w"> </span>install<span class="w"> </span>gdebi-core
gdebi<span class="w"> </span>~/Downloads/mantid-developer.X.Y.Z.deb
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">X.Y.Z</span></code> should be replaced with the version that was downloaded.</p>
<p>Install pre-commit for use in our current developer workflow</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>pre-commit<span class="w"> </span>--user
</pre></div>
</div>
<p>if you wish to setup eclipse for use developing mantid, then instructions can be found <a class="reference internal" href="../Eclipse.html#eclipse"><span class="std std-ref">here</span></a>.</p>
<p>Now you can <a class="reference internal" href="../WindowsSubsystemForLinux.html#wsl-cloning-mantid-ref"><span class="std std-ref">Clone Mantid</span></a>, and build as follows:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>build
<span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>-G<span class="w"> </span>Ninja<span class="w"> </span><span class="o">[</span>mantid<span class="w"> </span>source<span class="o">]</span>
cmake<span class="w"> </span>--build<span class="w"> </span>.
</pre></div>
</div>
<p>See the instructions on <a class="reference internal" href="../RunningTheUnitTests.html#runningtheunittests"><span class="std std-ref">this</span></a> page to run the Mantid unit tests.</p>
</section>
<section id="ubuntu-20-04">
<h4>Ubuntu 20.04<a class="headerlink" href="#ubuntu-20-04" title="Permalink to this heading">¶</a></h4>
<ul class="simple">
<li><p>Mantid uses <cite>qtpy</cite> to talk to Python bindings of Qt.  It is recommended to have the _
environment var <cite>QT_API=pyqt5</cite> exported to the shell before building with CMake.</p></li>
<li><p>The header and lib shipped with Anaconda (if installed) could interfere with Mantid building _
process. It is highly recommended to remove Anaconda Python from your env prior to building _
using <cite>conda deactivate</cite>.</p></li>
<li><p>Mantid is not yet officially supported on Ubuntu 20.04, but mantid-developer package (see Ubuntu 18.04 instructions) has been modified to support it.</p></li>
<li><p>Install pre-commit for use in our current developer workflow</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>pre-commit<span class="w"> </span>--user
</pre></div>
</div>
</section>
</section>
<section id="osx">
<h3>OSX<a class="headerlink" href="#osx" title="Permalink to this heading">¶</a></h3>
<p>The build environment on OS X is described here <a class="reference internal" href="../BuildingOnOSX.html#buildingonosx"><span class="std std-ref">Building on OS X</span></a>.</p>
<p>Install pre-commit for use in our current developer workflow</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>brew<span class="w"> </span>install<span class="w"> </span>pre-commit
</pre></div>
</div>
</section>
<section id="docker">
<h3>Docker<a class="headerlink" href="#docker" title="Permalink to this heading">¶</a></h3>
<p>On Docker supported systems you may use the <a class="reference external" href="https://github.com/mantidproject/dockerfiles/tree/master/development">mantid-development</a>
images to develop Mantid without having to configure your system as a suitable
build environment. This will give you an out of the box working build
environment, Python 3 (where available) and ccache.</p>
<p>More details and instructions can be found at the GitHub link above.</p>
</section>
</section>
<section id="getting-the-mantid-code">
<h2>Getting the Mantid code<a class="headerlink" href="#getting-the-mantid-code" title="Permalink to this heading">¶</a></h2>
<p>We use <a class="reference external" href="https://git-scm.com/">Git</a> as our version control system (VCS). The master copies of our repositories are located at <a class="reference external" href="http://github.com/mantidproject">GitHub</a>. We have a number of repositories, of which the main one (the one containing all the source code for Mantid itself) is called simply <a class="reference external" href="http://github.com/mantidproject/mantid">mantid</a>.</p>
<p>If you are not already set up with Git, you can follow these <a class="reference external" href="https://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup">instructions</a>.</p>
<p>There are a number of URLs via which the code can be checked out using various protocols. The easiest way to get the one you want is to select the protocol you want on the right side of the <a class="reference external" href="http://github.com/mantidproject/mantid">mantid</a> repository page on github and copy the url into your clipboard. The way to clone the repository via ssh on the command line, into a directory called Mantid, is:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:mantidproject/mantid.git
</pre></div>
</div>
<p>Alternatively, one can use the <code class="docutils literal notranslate"><span class="pre">https</span></code> protocol for cloning the repository.
This requires one to supply an authentication token when pushing or re-type their password.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/mantidproject/mantid.git
</pre></div>
</div>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="GettingStartedCondaOSX.html" title="Previous Chapter: Develop with Conda on MacOS"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Develop with ...</span>
    </a>
  </li>
  <li>
    <a href="../Packaging.html" title="Next Chapter: Packaging"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Packaging &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>