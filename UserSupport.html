<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>User Support</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Mantid Git Config" href="GitConfig.html" />
    <link rel="prev" title="Mantid Issue Tracking" href="IssueTracking.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>master</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="index.html">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org">Wiki</a></li>
                <li><a href="http://docs.mantidproject.org">User Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="user-support">
<span id="usersupport"></span><h1>User Support<a class="headerlink" href="#user-support" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id2">Introduction</a></p></li>
<li><p><a class="reference internal" href="#bugs-and-error-reports" id="id3">Bugs and Error Reports</a></p></li>
<li><p><a class="reference internal" href="#troubleshooting" id="id4">Troubleshooting</a></p>
<ul>
<li><p><a class="reference internal" href="#windows" id="id5">Windows</a></p></li>
<li><p><a class="reference internal" href="#linux" id="id6">Linux</a></p></li>
<li><p><a class="reference internal" href="#macos" id="id7">MacOS</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>As Mantid continues to facilitate cutting-edge scientific research, for an
increasing number of users, the support side of Mantid is growing more
and more important. This can be in many circumstances and through
different avenues; therefore, below is detailed our support procedures.</p>
<p>The main purpose of user support for the Mantid project, is to aide contact between the users and developers.</p>
<figure class="align-right" id="id1">
<a class="screenshot reference internal image-reference" href="_images/errorReporter.png"><img alt="Error reporter" class="screenshot" src="_images/errorReporter.png" style="width: 700px;" /></a>
<figcaption>
<p><span class="caption-text"><em>Error reporter sends details directly to Mantid support</em></span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="bugs-and-error-reports">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Bugs and Error Reports</a><a class="headerlink" href="#bugs-and-error-reports" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Users can report bugs via the <a class="reference external" href="https://forum.mantidproject.org/">Mantid Help Forum</a> or the <a class="reference external" href="mailto:mantid-help&#37;&#52;&#48;mantidproject&#46;org">Mantid Help Email</a>, or from collected <strong>Error Reports</strong>. Currently this is a quick first contact with the team, but doesn’t give much detail about the usage or unexpected error.</p></li>
<li><p>The bug is verified and reproduced by the support team.</p></li>
<li><p>The impact and importance are assessed by the support team member by contacting the users, instrument scientists, developers or project manager as appropriate.</p></li>
<li><p>A GitHub issue to resolve the problem is created if appropriate and/or workaround tested if possible.</p></li>
<li><p>The user is contacted to give a link to the created issue and/or workaround solution, by the support team.</p></li>
<li><p>When any issue is completed naming a user, that user is contacted to let them know it will be available in the nightly build and next release.  The gatekeeper that merges the fix should message the appropriate developer, to remind them to contact the original reporter. This could simply be through adding a comment while merging that points this out.</p></li>
</ol>
</section>
<section id="troubleshooting">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Troubleshooting</a><a class="headerlink" href="#troubleshooting" title="Permalink to this heading">¶</a></h2>
<p>This is a list designed to take a user through how to gain diagnostic information, particularly when Mantid (Workbench) fails to <strong>launch</strong>.</p>
<p>For performance profiling check out our <a class="reference external" href="http://developer.mantidproject.org/ToolsOverview.html#profiling">recommended tools</a>.</p>
<section id="windows">
<span id="trouble-windows"></span><h3><a class="toc-backref" href="#id5" role="doc-backlink">Windows</a><a class="headerlink" href="#windows" title="Permalink to this heading">¶</a></h3>
<p>For a full release, <code class="docutils literal notranslate"><span class="pre">C:\MantidInstall\</span></code> is likely the correct install path. Take care to readjust this to <code class="docutils literal notranslate"><span class="pre">C:\MantidNightlyInstall\</span></code> if you are diagnosing a nightly version.</p>
<ol class="arabic">
<li><p>Does the <strong>splash screen</strong> appear? Can get a rough idea how far through launch it stops.</p></li>
<li><p>Does the <strong>error reporter</strong> appear? Is there a useful stacktrace? [If the errorreport won’t send, the user can check with “Show Details”]</p></li>
<li><p>Try launching from a command prompt:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>C:<span class="se">\M</span>antidInstall<span class="se">\b</span>in<span class="se">\M</span>antidWorkbench
</pre></div>
</div>
<p>If this does not work, try launching with:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> C:<span class="se">\M</span>antidInstall<span class="se">\b</span>in
<span class="nb">set</span> <span class="nv">QT_PLUGIN_PATH</span><span class="o">=</span>%CD%<span class="se">\.</span>.<span class="se">\p</span>lugins<span class="se">\q</span>t5
<span class="nb">set</span> <span class="nv">PYTHONPATH</span><span class="o">=</span>%CD%<span class="p">;</span>%PYTHONPATH%
python -m workbench.app.main
</pre></div>
</div>
</li>
<li><p>Does <strong>Qt</strong> import correctly? In a command prompt / terminal window, run the following:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>C:<span class="se">\M</span>antidInstall<span class="se">\b</span>in<span class="se">\m</span>antidpython.bat --classic
import qtpy.QtCore
</pre></div>
</div>
</li>
<li><p>Do <strong>Mantid Algorithms</strong> import correctly?</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>C:<span class="se">\M</span>antidInstall<span class="se">\b</span>in<span class="se">\m</span>antidpython.bat --classic
import mantid.simpleapi
</pre></div>
</div>
</li>
<li><p>Turn off <strong>Server Checks</strong>: Open <code class="docutils literal notranslate"><span class="pre">C:\MantidInstall\bin\Mantid.user.properties</span></code> in any texteditor, add each code line to the end of the file and try to open Workbench after each.</p>
<ol class="loweralpha simple">
<li><p>Instrument File : <code class="docutils literal notranslate"><span class="pre">UpdateInstrumentDefinitions.OnStartup</span> <span class="pre">=</span> <span class="pre">0</span></code></p></li>
<li><p>Mantid Version : <code class="docutils literal notranslate"><span class="pre">CheckMantidVersion.OnStartup</span> <span class="pre">=</span> <span class="pre">0</span></code></p></li>
<li><p>Usage Reporting: <code class="docutils literal notranslate"><span class="pre">usagereports.enabled</span> <span class="pre">=</span> <span class="pre">0</span></code></p></li>
<li><p>Project Recovery: <code class="docutils literal notranslate"><span class="pre">projectRecovery.enabled=false</span></code></p></li>
</ol>
</li>
<li><p>Try renaming <strong>Config Files</strong>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> %APPDATA%<span class="se">\m</span>antidproject
mv mantidproject.ini mantidproject.ini.backup
<span class="c1"># Try again to start workbench, if that doesn&#39;t work ...</span>

<span class="nb">cd</span> %APPDATA%<span class="se">\m</span>antidproject
mv mantid mantidbackup
<span class="c1"># Try again to start workbench</span>
</pre></div>
</div>
</li>
</ol>
<p><strong>Advanced options:</strong></p>
<ol class="arabic" start="8">
<li><p>Check the PATH for conflicts with Mantid:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> %PATH%
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> C:<span class="se">\M</span>antidInstall<span class="se">\b</span>in<span class="se">\</span>
python -c <span class="s2">&quot;import sys; import os; import pprint; pprint.pprint(sys.path); pprint.pprint(os.environ)&quot;</span>
</pre></div>
</div>
</li>
<li><p>Check for conflicts with <strong>numpy</strong>: <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-c</span> <span class="pre">&quot;import</span> <span class="pre">numpy;</span> <span class="pre">print(numpy.__file__)&quot;</span></code> Anything outside of <code class="docutils literal notranslate"><span class="pre">C:\MantidInstall</span></code> could be a problem.</p>
<p>If there is a local version of Numpy, Matplotlib, Scipy etc., prevent Mantid from looking there, by running: <code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">PYTHONNOUSERSITE=1</span></code></p>
</li>
<li><p>Try to open workbench. After it fails, open <strong>Event Viewer</strong> (just search in the Windows menu bar) and selected <code class="docutils literal notranslate"><span class="pre">Windows</span> <span class="pre">Logs-&gt;Application</span></code>. Double-click on the relevant error line/s and send the crash information to the dev team.</p></li>
<li><p><strong>Process Monitor</strong>: <a class="reference external" href="https://docs.microsoft.com/en-us/sysinternals/downloads/procmon">Download here</a>. Extract the ProcessMonitor.zip and run Procmon.exe (which requires admin credentials). Set up a configuration filter for <code class="docutils literal notranslate"><span class="pre">Process</span> <span class="pre">Name</span> <span class="pre">contains</span> <span class="pre">python</span></code>, click <code class="docutils literal notranslate"><span class="pre">ADD</span></code>, <code class="docutils literal notranslate"><span class="pre">APPLY</span></code>, <code class="docutils literal notranslate"><span class="pre">OK</span></code> and then launch Mantid Workbench, then back in Process Monitor select File&gt;Save and save as a <code class="docutils literal notranslate"><span class="pre">LogFile.PML</span></code> file and send to the dev team.</p></li>
</ol>
</section>
<section id="linux">
<span id="trouble-linux"></span><h3><a class="toc-backref" href="#id6" role="doc-backlink">Linux</a><a class="headerlink" href="#linux" title="Permalink to this heading">¶</a></h3>
<p>For a full release, <code class="docutils literal notranslate"><span class="pre">/opt/Mantid/</span></code> is likely the correct install path. Take care to readjust this to <code class="docutils literal notranslate"><span class="pre">/opt/mantidnightly/</span></code> if you are diagnosing a nightly version.</p>
<ol class="arabic">
<li><p>Does the <strong>splash screen</strong> appear? Can get a rough idea how far through launch it stops.</p></li>
<li><p>Does the <strong>error reporter</strong> appear? Is there a useful stacktrace? [If the errorreport won’t send, the user can check with “Show Details”]</p></li>
<li><p>Try launching from the terminal:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>/opt/Mantid/bin/mantidworkbench
</pre></div>
</div>
</li>
<li><p>Does <strong>Qt</strong> import correctly? In terminal, run the following:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>/opt/Mantid/bin/mantidpython --classic
import qtpy.QtCore
</pre></div>
</div>
</li>
<li><p>Do <strong>Mantid Algorithms</strong> import correctly?</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>/opt/Mantid/bin/mantidpython --classic
import mantid.simpleapi
</pre></div>
</div>
</li>
<li><p>Try renaming <strong>Config Files</strong>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$HOME</span>/.config/mantidproject
mv mantidproject.ini mantidproject.ini.backup
<span class="c1"># Try again to start workbench, if that doesn&#39;t work ...</span>

<span class="nb">cd</span> <span class="nv">$HOME</span>
mv .mantid .mantidbackup
<span class="c1"># Try again to start workbench</span>
</pre></div>
</div>
</li>
<li><p>Turn off <strong>Server Checks</strong>: Open <code class="docutils literal notranslate"><span class="pre">$HOME/.mantid/Mantid.user.properties</span></code> in any texteditor, add each code line to the end of the file and try to open Workbench after each.</p>
<ol class="loweralpha simple">
<li><p>Instrument File : <code class="docutils literal notranslate"><span class="pre">UpdateInstrumentDefinitions.OnStartup</span> <span class="pre">=</span> <span class="pre">0</span></code></p></li>
<li><p>Mantid Version : <code class="docutils literal notranslate"><span class="pre">CheckMantidVersion.OnStartup</span> <span class="pre">=</span> <span class="pre">0</span></code></p></li>
<li><p>Usage Reporting: <code class="docutils literal notranslate"><span class="pre">usagereports.enabled</span> <span class="pre">=</span> <span class="pre">0</span></code></p></li>
<li><p>Project Recovery: <code class="docutils literal notranslate"><span class="pre">projectRecovery.enabled=false</span></code></p></li>
</ol>
</li>
</ol>
<p><strong>Advanced Options:</strong></p>
<ol class="arabic" start="8">
<li><p>Check the PATH for conflicts with Mantid: e.g. Anything relating to <code class="docutils literal notranslate"><span class="pre">.local</span></code> could be a problem.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="nv">$PATH</span>
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /opt/Mantid/bin/
python -c <span class="s2">&quot;import sys; import os; import pprint; pprint.pprint(sys.path); pprint.pprint(os.environ)&quot;</span>
</pre></div>
</div>
</li>
<li><p>Check for conflicts with <strong>numpy</strong>: <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-c</span> <span class="pre">&quot;import</span> <span class="pre">numpy;</span> <span class="pre">print(numpy.__file__)&quot;</span></code> Anything relating to <code class="docutils literal notranslate"><span class="pre">.local</span></code> could be a problem.</p>
<p>If there is a local version of Numpy, Matplotlib, Scipy etc., prevent Mantid from looking there, by running: <code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">PYTHONNOUSERSITE=1</span></code></p>
</li>
<li><p>Check the terminal output for an error <code class="docutils literal notranslate"><span class="pre">Failed</span> <span class="pre">to</span> <span class="pre">create</span> <span class="pre">history</span> <span class="pre">session</span></code>.</p>
<p>This can happen if the sqlite database has not been unlocked, e.g. from a previous crashed session. To work around this, replace the original with a new copy. The warning should give the location of the database, e.g. <code class="docutils literal notranslate"><span class="pre">~/.ipython/profile_default/history.sqlite</span></code>. Ensure there are no Mantid sessions running, then make a copy of the database as follows (replace the path if it is different):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/.ipython/profile_default/
mv history.sqlite history.sqlite.orig
cp history.sqlite.orig history.sqlite
</pre></div>
</div>
</li>
<li><p>Further diagnosis for process monitoring: <a class="reference external" href="https://strace.io/">strace</a>.</p></li>
</ol>
</section>
<section id="macos">
<span id="trouble-macos"></span><h3><a class="toc-backref" href="#id7" role="doc-backlink">MacOS</a><a class="headerlink" href="#macos" title="Permalink to this heading">¶</a></h3>
<ol class="arabic">
<li><p>Does the <strong>splash screen</strong> appear? Can get a rough idea how far through launch it stops.</p></li>
<li><p>Does the <strong>error reporter</strong> appear? Is there a useful stacktrace? [If the errorreport won’t send, the user can check with “Show Details”]</p></li>
<li><p>Try launching from terminal, by running the following:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>open --stdout<span class="o">=</span>workbench_bundle.log --stderr<span class="o">=</span>workbench_bundle.log /Applications/MantidWorkbench.app
</pre></div>
</div>
<p>If this does not work, try launching with:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /Applications/MantidWorkbench.app/Contents/MacOS
../Resources/python -m workbench.app.main
</pre></div>
</div>
</li>
<li><p>Does <strong>Qt</strong> import correctly?</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>/Applications/MantidWorkbench.app/Contents/Resources/python
import qtpy.QtCore
</pre></div>
</div>
</li>
<li><p>Do <strong>Mantid Algorithms</strong> import correctly?</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>/Applications/MantidWorkbench.app/Contents/Resources/python
import mantid.simpleapi
</pre></div>
</div>
</li>
<li><p>Turn off <strong>Server Checks</strong>: Open <code class="docutils literal notranslate"><span class="pre">$HOME/.mantid/Mantid.user.properties</span></code> in any texteditor, add each code line to the end of the file and try to open Workbench after each.</p>
<ol class="loweralpha simple">
<li><p>Instrument File : <code class="docutils literal notranslate"><span class="pre">UpdateInstrumentDefinitions.OnStartup</span> <span class="pre">=</span> <span class="pre">0</span></code></p></li>
<li><p>Mantid Version : <code class="docutils literal notranslate"><span class="pre">CheckMantidVersion.OnStartup</span> <span class="pre">=</span> <span class="pre">0</span></code></p></li>
<li><p>Usage Reporting: <code class="docutils literal notranslate"><span class="pre">usagereports.enabled</span> <span class="pre">=</span> <span class="pre">0</span></code></p></li>
<li><p>Project Recovery: <code class="docutils literal notranslate"><span class="pre">projectRecovery.enabled=false</span></code></p></li>
</ol>
</li>
<li><p>Try renaming <strong>Config files</strong>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$HOME</span>/.config/mantidproject
mv mantidproject.ini mantidproject.ini.backup
<span class="c1"># Try again to start workbench, if that doesn&#39;t work ...</span>

<span class="nb">cd</span> ~
mv .mantid .mantidbackup
<span class="c1"># Try again to start workbench</span>
</pre></div>
</div>
</li>
</ol>
<p><strong>Advanced Options:</strong></p>
<ol class="arabic" start="8">
<li><p>Check the PATH for conflicts with Mantid: e.g. Anything relating to <code class="docutils literal notranslate"><span class="pre">.local</span></code> could be a problem.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="nv">$PATH</span>
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /Applications/MantidWorkbench.app/Contents/Resources/
python -c <span class="s2">&quot;import sys; import os; import pprint; pprint.pprint(sys.path); pprint.pprint(os.environ)&quot;</span>
</pre></div>
</div>
</li>
<li><p>Check for conflicts with <strong>numpy</strong>: <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-c</span> <span class="pre">&quot;import</span> <span class="pre">numpy;</span> <span class="pre">print(numpy.__file__)&quot;</span></code> Anything relating to <code class="docutils literal notranslate"><span class="pre">.local</span></code> could be a problem.</p>
<p>If there is a local version of Numpy, Matplotlib, Scipy etc., prevent Mantid from looking there, by running: <code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">PYTHONNOUSERSITE=1</span></code></p>
</li>
<li><p>Further diagnosis for process monitoring: <a class="reference external" href="http://dtrace.org/">dtrace</a>.</p></li>
</ol>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="IssueTracking.html" title="Previous Chapter: Mantid Issue Tracking"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Mantid Issue Tracking</span>
    </a>
  </li>
  <li>
    <a href="GitConfig.html" title="Next Chapter: Mantid Git Config"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Mantid Git Config &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>